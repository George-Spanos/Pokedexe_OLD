syntax = "proto3";

option csharp_namespace = "Proto";

package Message;

import "common.proto";
import "user.proto";

message Message {
  string id = 1;
  User.User User = 2;
  string Text = 3;
  string Timestamp = 5;
}
message MessageList {
  repeated Message value = 1;
}
service MessageService {
  rpc GetMessages(Common.EMPTY) returns (MessageList);
  rpc BroadcastMessage(Message) returns(Common.EMPTY);
  rpc GetNewMessage(Common.EMPTY) returns (stream Message);
}